<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.2 -->
    <script>
        window.materialVersion = "1.5.2"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">














    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            【Ynoi2018】GOSICK | 
        
        Mrsrz&#39;s blog
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/head.png">
    <link rel="icon" href="/img/head.png">

    <meta name="format-detection" content="telephone=no">
    <meta name="description" itemprop="description" content>
    <meta name="keywords" content=",莫队算法-二次离线莫队">
    <meta name="theme-color" content="#0097A7">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta http-equiv="Cache-Control" content="no-siteapp">

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?MKetZV3cUTfDxvMffaOezg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        
            
                <style id="prettify_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_css","/css/prettify.min.css?zp8STOU9v89XWFEnN+6YmQ==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
                <style id="prettify_theme"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_theme","/css/prettify/github-v2.min.css?AfzKxt++K+/lhZBlSjnxwg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
            
        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-image: url(/img/Chtholly.jpg);
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Mrsrz&#39;s blog">
    <meta name="msapplication-starturl" content="http://yoursite.com/Ynoi2018-D2T2/">
    <meta name="msapplication-navbutton-color" content="#0097A7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="Mrsrz&#39;s blog">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="/img/head.png">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://yoursite.com/Ynoi2018-D2T2/">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="【Ynoi2018】GOSICK | Mrsrz&#39;s blog">
    <meta property="og:image" content="/img/head.png">
    <meta property="og:description" content>
    <meta property="og:article:tag" content="莫队算法-二次离线莫队"> 

    
        <meta property="article:published_time" content="Tue Feb 04 2020 19:41:24 GMT+0800">
        <meta property="article:modified_time" content="Mon Dec 21 2020 10:06:01 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://yoursite.com/Ynoi2018-D2T2/index.html">
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "http://yoursite.com/Ynoi2018-D2T2/index.html",
    "headline": "【Ynoi2018】GOSICK",
    "datePublished": "Tue Feb 04 2020 19:41:24 GMT+0800",
    "dateModified": "Mon Dec 21 2020 10:06:01 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "mrsrz",
        "image": {
            "@type": "ImageObject",
            "url": "/img/head.png"
        },
        "description": "珂愛"
    },
    "publisher": {
        "@type": "Organization",
        "name": "Mrsrz&#39;s blog",
        "logo": {
            "@type":"ImageObject",
            "url": "/img/head.png"
        }
    },
    "keywords": ",莫队算法-二次离线莫队",
    "description": "",
}
</script>


    

    <!-- Analytics -->
    
    
    

    <!-- Custom Head -->
    

</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#题目大意："><span class="post-toc-number">1.</span> <span class="post-toc-text">题目大意：</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#题解："><span class="post-toc-number">2.</span> <span class="post-toc-text">题解：</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Code："><span class="post-toc-number">3.</span> <span class="post-toc-text">Code：</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Code：-1"><span class="post-toc-number">4.</span> <span class="post-toc-text">Code：</span></a></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 5 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/qaq-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                【Ynoi2018】GOSICK
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/head.png" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>mrsrz</strong>
        <span>2月 04, 2020</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/莫队算法-二次离线莫队/">莫队算法-二次离线莫队</a>
    </ul>
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=【Ynoi2018】GOSICK&url=http://yoursite.com/Ynoi2018-D2T2/index.html&pic=http://yoursite.com/img/head.png&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=【Ynoi2018】GOSICK&url=http://yoursite.com/Ynoi2018-D2T2/index.html&via=mrsrz" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/Ynoi2018-D2T2/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=http://yoursite.com/Ynoi2018-D2T2/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    

    <!-- Share Telegram -->
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <p>二次离线莫队。</p>
<h2 id="题目大意："><a href="#题目大意：" class="headerlink" title="题目大意："></a>题目大意：</h2><p>给定一个序列 $a_1,a_2,a_3,\ldots,a_n$，每次询问给出 $l,r$，查询有多少对二元组 $(i,j)$ 满足 $l\leq i,j\leq r$ 且 $a_i$ 是 $a_j$ 的倍数。</p>
<h2 id="题解："><a href="#题解：" class="headerlink" title="题解："></a>题解：</h2><p>第十四分块。</p>
<p>这里只讲如何从 $[1,i]$ 递推到 $[1,i+1]$，关于二次离线莫队的具体写法请参见<a href="https://www.luogu.org/problemnew/show/P4887" target="_blank" rel="noopener">第十四分块(前体)</a>的题解。</p>
<p>考虑用 $b_i$ 表示 $i$ 的因数的出现次数，$c_i$ 表示 $i$ 的倍数的出现次数。那么一个数 $x$ 当前的贡献就为 $b_x+c_x$。</p>
<p>考虑新加入 $x$ 这个数，所有 $x$ 的因数 $y$ 对应的 $c_y$ 就要加 $1$，所有 $x$ 的倍数 $z$ 对应的 $b_z$ 也要加 $1$。</p>
<p>$5\times 10^5$ 内的数的因数个数不多，单次枚举因数部分的复杂度可以看做 $O(\sqrt n)$。</p>
<p>但是当 $x$ 比较小的时候，枚举 $x$ 的倍数就是 $O(n)$ 的。</p>
<p>考虑根号分治，对 $x&gt;\sqrt n$ 的部分直接暴力枚举，单次复杂度 $O(\sqrt n)$，对于 $x\leq \sqrt n$ 的部分，使用另外的方法。</p>
<p>对于 $x\leq\sqrt n$ 的部分，我们考虑解决二次离线莫队中两个需要维护的东西的计算。</p>
<ul>
<li><p>计算 $[1,i-1]$ 对 $i$ 的贡献，即计算 $a_ i$ 的倍数在 $[1,i-1]$ 中的出现次数。</p>
<p>$a_j$ 是 $a_i$（$j\lt i$）的倍数，相当于 $a_i$ 是 $a_j$ 的因数，所以我们对每个数统计它作为因数的出现次数即可。</p>
</li>
<li><p>计算 $[1,i]$ 对 $[l,r]$ 的贡献。我们还是要解决询问单点的倍数/因数个数的问题。但这里总询问次数为 $O (n\sqrt n)$，所以我们必须 $O(1)$ 查询。</p>
<p>现在的问题在于，我们无法统计 $x$ 的因数中，小于等于 $\sqrt n$ 的因数的出现次数。对于大于等于 $\sqrt n$ 的因数，直接枚举其倍数并加上贡献的复杂度是正确的，但小于等于时是不正确的。</p>
<p>我们反过来考虑。我们对每个因数 $x$，如果知道了 $l,r$ 内 $x$ 的倍数的出现次数，那么这个 $x$ 作为因数的贡献就得到了。我们对每个 $\leq \sqrt n$ 的因数 $x$ 都计算贡献即可。</p>
<p>考虑如何快速计算区间 $[l,r]$ 内 $x$ 的倍数的出现次数。我们对每个 $x$，记录 $pre_{x,i}$ 表示前 $i$ 个数中，$x$ 的倍数的出现次数。然后在计算 $[1,i]$ 对 $[l,r]$ 的贡献的时候，我们记录 $[1,i]$ 中每个数的出现次数，然后 $pre_{x,r}-pre_{x,l-1}$ 乘上 $x$ 在 $[1,i]$ 的出现次数，就是 $[l,r]$ 中的数作为倍数，$[1,i]$ 中的数作为因数（不超过 $\sqrt n$） 时的贡献。</p>
</li>
</ul>
<p>这样各部分维护的复杂度都为 $O(n\sqrt n)$ 或 $O(m\sqrt n)$。</p>
<p>时间复杂度 $O((n+m)\sqrt n)$。</p>
<p>关于空间复杂度，直接对 $O(\sqrt n)$ 个因数开前缀和数组存是 $O(n\sqrt n)$ 的。可以只用一个前缀和数组，对每个因数分别重新计算，可以做到 $O(n)$。</p>
<p>卡常数部分：</p>
<ol>
<li>线性空间的做法会被卡 Cache（<strong>Update：</strong>目前不会被卡了，但是根号空间会被卡，下面的代码仅供参考），所以要写空间 $O(n\sqrt n)$ 的做法。由于空间限制，根号分治的阈值只能开到 $100\sim 200$。</li>
<li>每次都 $O(\sqrt n)$ 计算一个数的因数效率非常低，可以开 vector 存每个数的因数，一开始预处理每个数的因数，然后就可以直接遍历 vector。时空复杂度 $O(n\log n)$。</li>
<li>存储二次离线的询问时，STL 的 vector 较慢，需要手动分配连续内存。</li>
<li>IO 优化。</li>
</ol>
<h2 id="Code："><a href="#Code：" class="headerlink" title="Code："></a>Code：</h2><pre><code class="lang-c++">#include&lt;algorithm&gt;
#include&lt;cstring&gt;
#include&lt;cstdio&gt;
#include&lt;cmath&gt;
#include&lt;cctype&gt;
#include&lt;vector&gt;
#define memset0(x) memset(x,0,sizeof(x))
using namespace std;
typedef long long LL;
const int siz=144,N=5e5+3;
int B;
#define bel(x)((x-1)/B)
struct node{
    int l,r,id;
    inline int operator&lt;(const node&amp;rhs)const{return(bel(l)!=bel(rhs.l)?l&lt;rhs.l:((bel(l)&amp;1)?r&gt;rhs.r:r&lt;rhs.r));}
}q[N],Memory_of_winter[N*4],*it=Memory_of_winter;
#define gc pa==pb&amp;&amp;(pb=(pa=buf)+fread(buf,1,500000,stdin),pa==pb)?EOF:*pa++
static char buf[500000],*pa(buf),*pb(buf);
char bwf[9000005],*ww=bwf;
int xx[24];
inline void print(LL x){
    static int*q=xx;
    if(!x)*ww++=&#39;0&#39;;else{
        for(;x;x/=10)*q++=(x%10)^&#39;0&#39;;
        while(q!=xx)*ww++=*--q;
    }
    *ww++=&#39;\n&#39;;
}
inline int readint() {
    int x=0;char c=gc;
    while(c&lt;&#39;0&#39;||c&gt;&#39;9&#39;)c=gc;
    for(;c&gt;=&#39;0&#39;&amp;&amp;c&lt;=&#39;9&#39;;c=gc)x=x*10+(c&amp;15);
    return x;
}
struct Vector{
    node*begin,*end;
    inline void malloc(int len){
        begin=end=it;
        it+=len;
    }
    inline void push_back(const node&amp;x){*end++=x;}
}L[N],R[N];
int totL[N],totR[N];
int n,m,a[N];
int ys[N],bs[N],cnt[N];
LL ans[N],L_R[N],R_L[N];
int pre[N][siz+2];
vector&lt;int&gt;fc[N];
int main(){
    n=readint(),m=readint();
    B=n/(sqrt(m*2/3)+1)+1;
    for(int i=1;i&lt;=n;++i)
    for(int j=i;j&lt;=n;j+=i)
    fc[j].push_back(i);
    for(int i=1;i&lt;=n;++i){
        const int x=a[i]=readint();
        for(int j:fc[x])
        if(j&lt;=siz)++pre[i][j];else break;
        for(int j=1;j&lt;=siz;++j)pre[i][j]+=pre[i-1][j];
    }
    for(int i=1;i&lt;=m;++i)
    q[i].l=readint(),q[q[i].id=i].r=readint();
    for(int i=1;i&lt;=n;++i){
        const int x=a[i];
        L_R[i]=L_R[i-1]+bs[x];
        for(int j:fc[x])++bs[j],L_R[i]+=cnt[j];
        ++cnt[x];
    }
    memset0(cnt),memset0(bs);
    for(int i=n;i;--i){
        const int x=a[i];
        R_L[i]=R_L[i+1]+bs[x];
        for(int j:fc[x])++bs[j],R_L[i]+=cnt[j];
        ++cnt[x];
    }
    memset0(cnt),memset0(bs);
    sort(q+1,q+m+1);
    q[0].l=1,q[0].r=0;
    for(int i=1;i&lt;=m;++i){
        const node&amp;now=q[i],&amp;pre=q[i-1];
        ans[i]=L_R[now.r]-L_R[pre.r]+R_L[now.l]-R_L[pre.l];
        if(now.r&gt;pre.r)++totR[pre.l-1];
        if(now.r&lt;pre.r)++totR[pre.l-1];
        if(now.l&lt;pre.l)++totL[now.r+1];
        if(now.l&gt;pre.l)++totL[now.r+1];
    }
    for(int i=0;i&lt;=n+1;++i)
    L[i].malloc(totL[i]),R[i].malloc(totR[i]);
    for(int i=1;i&lt;=m;++i){
        const node&amp;now=q[i],&amp;pre=q[i-1];
        if(now.r&gt;pre.r)
        R[pre.l-1].push_back((node){pre.r+1,now.r,-i});
        if(now.r&lt;pre.r)
        R[pre.l-1].push_back((node){now.r+1,pre.r,i});
        if(now.l&lt;pre.l)
        L[now.r+1].push_back((node){now.l,pre.l-1,-i});
        if(now.l&gt;pre.l)
        L[now.r+1].push_back((node){pre.l,now.l-1,i});
    }
    for(int i=1;i&lt;=n;++i){
        const int x=a[i];
        for(int j:fc[x])++bs[j];
        if(x&gt;siz)
        for(int j=x;j&lt;=n;j+=x)++bs[j];else ++cnt[x];
        for(node*vc=R[i].begin;vc!=R[i].end;++vc)
        if(vc-&gt;id&gt;0){
            LL&amp;t=ans[vc-&gt;id];
            for(int k=vc-&gt;l;k&lt;=vc-&gt;r;++k)t+=bs[a[k]];
            const int*R=pre[vc-&gt;r],*L=pre[vc-&gt;l-1];
            for(int k=1;k&lt;=siz;++k)t+=(LL)cnt[k]*(R[k]-L[k]);
        }else{
            LL&amp;t=ans[-vc-&gt;id];
            for(int k=vc-&gt;l;k&lt;=vc-&gt;r;++k)t-=bs[a[k]];
            const int*R=pre[vc-&gt;r],*L=pre[vc-&gt;l-1];
            for(int k=1;k&lt;=siz;++k)t-=(LL)cnt[k]*(R[k]-L[k]);
        }
    }
    memset0(cnt),memset0(bs);
    for(int i=n;i;--i){
        const int x=a[i];
        for(int j:fc[x])++bs[j];
        if(x&gt;siz)
        for(int j=x;j&lt;=n;j+=x)++bs[j];else ++cnt[x];
        for(node*vc=L[i].begin;vc!=L[i].end;++vc)
        if(vc-&gt;id&gt;0){
            LL&amp;t=ans[vc-&gt;id];
            for(int k=vc-&gt;l;k&lt;=vc-&gt;r;++k)t+=bs[a[k]];
            const int*R=pre[vc-&gt;r],*L=pre[vc-&gt;l-1];
            for(int k=1;k&lt;=siz;++k)t+=(LL)cnt[k]*(R[k]-L[k]);
        }else{
            LL&amp;t=ans[-vc-&gt;id];
            for(int k=vc-&gt;l;k&lt;=vc-&gt;r;++k)t-=bs[a[k]];
            const int*R=pre[vc-&gt;r],*L=pre[vc-&gt;l-1];
            for(int k=1;k&lt;=siz;++k)t-=(LL)cnt[k]*(R[k]-L[k]);
        }
    }
    static LL out[N];
    for(int i=1;i&lt;=m;++i)ans[i]+=ans[i-1],out[q[i].id]=ans[i]+q[i].r-q[i].l+1;
    for(int i=1;i&lt;=m;++i)print(out[i]);
    fwrite(bwf,ww-bwf,1,stdout);
    return 0;
}
</code></pre>
<hr>
<p>如果你想<strong>卡空间</strong>，那么需要用到一些技巧（<strong>Update：</strong>这些东西现在不加上也能通过，仅供参考）。</p>
<p>线性空间（除去 $O(n\log n)$ 存储因数的部分）的做法，我们需要对每个 $x$ 都重新求前缀和数组，并对每个询问计算贡献。由于内存访问非常随机，卡不进 Cache，导致常数无法接受。</p>
<p>所以我们的目标是卡进 Cache。</p>
<p>一个非常 naive 的思路就是，对 $\sqrt n$ 这个阈值再分块，即我们开一个 $n\sqrt[4]n$ 的二维数组，存储连续的 $\sqrt[4]n$ 个数作为因数的信息。这样我们在减小空间的基础上，又尽可能地卡进 Cache。</p>
<p>理论空间复杂度是 $O(n\sqrt[4]n)$。实际上这个阈值没法取太大（因为大于阈值的部分只是一个纯粹的循环，常数非常小，而小于等于阈值的部分则非常吃常数），所以实际使用的空间也比较可观。</p>
<p><strong>Update：</strong>简单地卡了一下空间，目前能进 $128\texttt{MB}$。</p>
<h2 id="Code：-1"><a href="#Code：-1" class="headerlink" title="Code："></a>Code：</h2><pre><code class="lang-c++">#include&lt;algorithm&gt;
#include&lt;cstring&gt;
#include&lt;cstdio&gt;
#include&lt;cmath&gt;
#include&lt;cctype&gt;
#include&lt;vector&gt;
#define memset0(x) memset(x,0,sizeof(x))
using namespace std;
typedef long long LL;
const int siz=99,N=5e5+3;
int B;
#define bel(x)((x-1)/B)
struct node{
    int l,r,id;
    inline int operator&lt;(const node&amp;rhs)const{return(bel(l)!=bel(rhs.l)?l&lt;rhs.l:((bel(l)&amp;1)?r&gt;rhs.r:r&lt;rhs.r));}
}q[N],Memory_of_winter[N*4],*it=Memory_of_winter;
#define gc pa==pb&amp;&amp;(pb=(pa=buf)+fread(buf,1,500000,stdin),pa==pb)?EOF:*pa++
static char buf[500000],*pa(buf),*pb(buf);
char bwf[9000005],*ww=bwf;
int xx[24];
inline void print(LL x){
    static int*q=xx;
    if(!x)*ww++=&#39;0&#39;;else{
        for(;x;x/=10)*q++=(x%10)^&#39;0&#39;;
        while(q!=xx)*ww++=*--q;
    }
    *ww++=&#39;\n&#39;;
}
inline int readint() {
    int x=0;char c=gc;
    while(c&lt;&#39;0&#39;||c&gt;&#39;9&#39;)c=gc;
    for(;c&gt;=&#39;0&#39;&amp;&amp;c&lt;=&#39;9&#39;;c=gc)x=x*10+(c&amp;15);
    return x;
}
struct Vector{
    node*begin,*end;
    inline void malloc(int len){
        begin=end=it;
        it+=len;
    }
    inline void push_back(const node&amp;x){*end++=x;}
}L[N],R[N];
int n,m,a[N];
int bs[N],cnt[N];
LL ans[N],L_R[N],R_L[N];
int pre[N][9],ttt[N];
vector&lt;int&gt;fc[N];
int main(){
    n=readint(),m=readint();
    B=n/(sqrt(m*2/3)+1)+1;
    for(int i=1;i&lt;=n;++i)
    for(int j=i;j&lt;=n;j+=i)++ttt[j];
    for(int i=1;i&lt;=n;++i)fc[i].reserve(ttt[i]);
    for(int i=1;i&lt;=n;++i)
    for(int j=i;j&lt;=n;j+=i)
    fc[j].push_back(i);
    for(int i=1;i&lt;=n;++i)a[i]=readint();
    for(int i=1;i&lt;=m;++i)
    q[i].l=readint(),q[q[i].id=i].r=readint();
    for(int i=1;i&lt;=n;++i){
        const int x=a[i];
        L_R[i]=L_R[i-1]+bs[x];
        for(int j:fc[x])++bs[j],L_R[i]+=cnt[j];
        ++cnt[x];
    }
    memset0(cnt),memset0(bs);
    for(int i=n;i;--i){
        const int x=a[i];
        R_L[i]=R_L[i+1]+bs[x];
        for(int j:fc[x])++bs[j],R_L[i]+=cnt[j];
        ++cnt[x];
    }
    memset0(cnt),memset0(bs);
    sort(q+1,q+m+1);
    q[0].l=1,q[0].r=0;
    for(int i=1;i&lt;=m;++i){
        const node&amp;now=q[i],&amp;pre=q[i-1];
        ans[i]=L_R[now.r]-L_R[pre.r]+R_L[now.l]-R_L[pre.l];
        if(now.r&gt;pre.r)++cnt[pre.l-1];
        if(now.r&lt;pre.r)++cnt[pre.l-1];
        if(now.l&lt;pre.l)++bs[now.r+1];
        if(now.l&gt;pre.l)++bs[now.r+1];
    }
    for(int i=0;i&lt;=n+1;++i)
    L[i].malloc(bs[i]),R[i].malloc(cnt[i]);
    memset0(cnt),memset0(bs);
    for(int i=1;i&lt;=m;++i){
        const node&amp;now=q[i],&amp;pre=q[i-1];
        if(now.r&gt;pre.r)
        R[pre.l-1].push_back((node){pre.r+1,now.r,-i});
        if(now.r&lt;pre.r)
        R[pre.l-1].push_back((node){now.r+1,pre.r,i});
        if(now.l&lt;pre.l)
        L[now.r+1].push_back((node){now.l,pre.l-1,-i});
        if(now.l&gt;pre.l)
        L[now.r+1].push_back((node){pre.l,now.l-1,i});
    }
    for(int i=1;i&lt;=n;++i){
        const int x=a[i];
        for(int j:fc[x])++bs[j];
        if(x&gt;siz)
        for(int j=x;j&lt;=n;j+=x)++bs[j];
        for(node*vc=R[i].begin;vc!=R[i].end;++vc)
        if(vc-&gt;id&gt;0){
            LL&amp;t=ans[vc-&gt;id];
            for(int k=vc-&gt;l;k&lt;=vc-&gt;r;++k)t+=bs[a[k]];
        }else{
            LL&amp;t=ans[-vc-&gt;id];
            for(int k=vc-&gt;l;k&lt;=vc-&gt;r;++k)t-=bs[a[k]];
        }
    }
    memset0(cnt),memset0(bs);
    for(int i=n;i;--i){
        const int x=a[i];
        for(int j:fc[x])++bs[j];
        if(x&gt;siz)
        for(int j=x;j&lt;=n;j+=x)++bs[j];
        for(node*vc=L[i].begin;vc!=L[i].end;++vc)
        if(vc-&gt;id&gt;0){
            LL&amp;t=ans[vc-&gt;id];
            for(int k=vc-&gt;l;k&lt;=vc-&gt;r;++k)t+=bs[a[k]];
        }else{
            LL&amp;t=ans[-vc-&gt;id];
            for(int k=vc-&gt;l;k&lt;=vc-&gt;r;++k)t-=bs[a[k]];
        }
    }
    for(int w=1;w&lt;=11;++w){
        const int Lt=(w-1)*9+1,Rt=w*9;
        for(int i=1;i&lt;=n;++i)
        for(int j=Lt;j&lt;=Rt;++j)
        pre[i][j-Lt]=pre[i-1][j-Lt]+!(a[i]%j);
        int tot[9];
        memset0(tot);
        for(int i=1;i&lt;=n;++i){
            if(Lt&lt;=a[i]&amp;&amp;a[i]&lt;=Rt)++tot[a[i]-Lt];
            for(node*vc=R[i].begin;vc!=R[i].end;++vc)
            if(vc-&gt;id&gt;0)
            for(int j=0;j&lt;9;++j)
            ans[vc-&gt;id]+=(LL)tot[j]*(pre[vc-&gt;r][j]-pre[vc-&gt;l-1][j]);else
            for(int j=0;j&lt;9;++j)
            ans[-vc-&gt;id]-=(LL)tot[j]*(pre[vc-&gt;r][j]-pre[vc-&gt;l-1][j]);
        }
        memset0(tot);
        for(int i=n;i;--i){
            if(Lt&lt;=a[i]&amp;&amp;a[i]&lt;=Rt)++tot[a[i]-Lt];
            for(node*vc=L[i].begin;vc!=L[i].end;++vc)
            if(vc-&gt;id&gt;0)
            for(int j=0;j&lt;9;++j)
            ans[vc-&gt;id]+=(LL)tot[j]*(pre[vc-&gt;r][j]-pre[vc-&gt;l-1][j]);else
            for(int j=0;j&lt;9;++j)
            ans[-vc-&gt;id]-=(LL)tot[j]*(pre[vc-&gt;r][j]-pre[vc-&gt;l-1][j]);
        }
    }
    static LL out[N];
    for(int i=1;i&lt;=m;++i)ans[i]+=ans[i-1],out[q[i].id]=ans[i]+q[i].r-q[i].l+1;
    for(int i=1;i&lt;=m;++i)print(out[i]);
    fwrite(bwf,ww-bwf,1,stdout);
    return 0;
}
</code></pre>

        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用 Gitalk -->
<div id="gitalk-comment">
    <!-- Gitalk 评论框 -->
<div id="gitalk-container"></div>

<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">

<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<script>
    var gitalk = new Gitalk({
            clientID: '3b1c25bc36babcc685f2',
            clientSecret: '2ab0b0464d9a1f774a6dd652da7b34de0ad6d6f5',
            repo: 'talking',
            owner: 'mrsrz',
            admin: ['mrsrz'],
            // facebook-like distraction free mode
            distractionFreeMode: false
        })
   gitalk.render('gitalk-container')
</script>
</div>
<style>
    #gitalk-comment {
        background-color: #eee;
        padding: 2pc;
    }
</style>


                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/AGC007D/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/Ynoi2010-D1T2/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>




                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/side.jpg);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/head.png" alt="mrsrz's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        1473200830@qq.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="#" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2021/01/">一月 2021<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/12/">十二月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/10/">十月 2020<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/09/">九月 2020<span class="sidebar_archives-count">24</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/07/">七月 2020<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/06/">六月 2020<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/04/">四月 2020<span class="sidebar_archives-count">22</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/03/">三月 2020<span class="sidebar_archives-count">47</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/02/">二月 2020<span class="sidebar_archives-count">42</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/01/">一月 2020<span class="sidebar_archives-count">52</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/12/">十二月 2019<span class="sidebar_archives-count">31</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/11/">十一月 2019<span class="sidebar_archives-count">54</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/10/">十月 2019<span class="sidebar_archives-count">33</span></a>
            </ul>
        </li>
        
            <li class="divider"></li>
        
    

    <!-- Categories  -->
    

    <!-- Pages  -->
    
        <li>
            <a href="/tags" title="标签">
                
                    <i class="material-icons sidebar-material-icons">tab</i>
                
                标签
            </a>
        </li>
        
    
        <li>
            <a href="/about" title="关于">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                关于
            </a>
        </li>
        
    
        <li>
            <a href="/links" title="友链">
                
                    <i class="material-icons sidebar-material-icons">face</i>
                
                友链
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->

    <a href="https://github.com/viosey/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
            主题 - Material
            <span class="sidebar-badge badge-circle">i</span>
        </div>
    </a>


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://github.com/mrsrz" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-github">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    
        <a href="https://www.zhihu.com/people/mrsrz" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-zhihu">
                <span class="visuallyhidden">Zhihu</span>
            </button><!--
     --></a>
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
    
    <!-- V2EX -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;2019&nbsp;-<script type="text/javascript">var fd = new Date();document.write("&nbsp;" + fd.getFullYear() + "&nbsp;");</script>Mrsrz's blog
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?V/53wGualMuiPM3xoetD5Q==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>









   <!-- GitTalk -->





<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import prettify js  -->

    
        
            <script>lsloader.load("prettify_js","/js/prettify.min.js?WN07fivHQSMKWy7BmHBB6w==", true)</script>
        
    



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
        
            $(function() {
                $('pre').addClass('prettyprint linenums').attr('style', 'overflow:auto;');
                prettyPrint();
                })
        
    
    
</script>

<!-- MathJax Load-->

    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
        tex2jax: { inlineMath: [ ["$", "$"], ["\\(","\\)"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno",skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']},
        TeX: {  noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } }, Macros: { href: "{}" } },
        messageStyle: "none"
    });
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

    <script src="true?config=TeX-AMS-MML_HTMLorMML"></script>




<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.2 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<!--<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>

</body>
    
</html>
